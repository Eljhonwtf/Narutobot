module.exports = {
    name: 'admins',
    description: 'ğŸš€ ğ‘³ğ’Šğ’”ğ’•ğ’‚ ğ’…ğ’† ğ’‚ğ’…ğ’ğ’Šğ’ğ’Šğ’”ğ’•ğ’“ğ’‚ğ’…ğ’ğ’“ğ’†ğ’” ğŸš€',
    run: async (sock, msg, body, args, isOwner) => {
        try {
            const from = msg.key.remoteJid;
            const thumbUrl = "https://i.postimg.cc/nLQ2RwPz/Screenshot-2025-12-30-14-40-31-396-com-miui-gallery-edit.jpg";

            if (!from.endsWith('@g.us')) return;

            const metadata = await sock.groupMetadata(from);
            const participants = metadata.participants;

            const groupAdmins = participants.filter(p => p.admin !== null);
            const creator = metadata.owner || groupAdmins.find(p => p.admin === 'superadmin')?.id || "ğ‘µğ’ ğ’…ğ’†ğ’•ğ’†ğ’„ğ’•ğ’‚ğ’…ğ’";

            // --- DISEÃ‘O V.3: FUTURISTIC & CLEAN ---
            let report = `âŒ¬ â”€â”€ã€ ğ‘µğ’‚ğ’“ğ’–ğ’•ğ’ğ’ƒğ’ğ’• ğ‘ºğ’šğ’”ğ’•ğ’†ğ’ ã€â”€â”€ âŒ¬\n\n`;
            
            report += `ğŸŒğŸ½â€â™‚ï¸ ğ‘·ğ’‚ğ’ğ’†ğ’ ğ’…ğ’† ğ‘®ğ’†ğ’”ğ’•ğ’Šğ’Ìğ’\n`;
            report += `âš¯ ğ‘®ğ’“ğ’–ğ’‘ğ’: ${metadata.subject}\n\n`;

            report += `â”Œâ”€â”€â”€  ğŸš€ ğ‘­ğ’–ğ’ğ’…ğ’‚ğ’…ğ’ğ’“\n`;
            report += `â”‚ â†³ @${creator.split('@')[0]}\n`;
            report += `â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆ âœ¦\n\n`;

            report += `â”Œâ”€â”€â”€  ğŸŒğŸ½â€â™‚ï¸ ğ‘¨ğ’…ğ’ğ’Šğ’ğ’Šğ’”ğ’•ğ’“ğ’‚ğ’•ğ’Šğ’—ğ’ğ’”\n`;
            
            for (let admin of groupAdmins) {
                const isCreator = admin.id === creator;
                report += `â”‚ ${isCreator ? 'ğŸš€' : 'âœ§'} @${admin.id.split('@')[0]}\n`;
            }
            
            report += `â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆ âœ¦\n\n`;
            report += `ğŸš€ ğ‘³ğ’Šğ’”ğ’•ğ’‚ ğ’”ğ’Šğ’ğ’„ğ’“ğ’ğ’ğ’Šğ’›ğ’‚ğ’…ğ’‚ ğ’„ğ’ğ’ ğ’†Ìğ’™ğ’Šğ’•ğ’.\n`;
            report += `âš¡ ğ‘·ğ’ğ’˜ğ’†ğ’“ğ’†ğ’… ğ’ƒğ’š ğ‘µğ’‚ğ’“ğ’–ğ’•ğ’ğ’ƒğ’ğ’•`;

            await sock.sendMessage(from, { 
                text: report, 
                mentions: groupAdmins.map(a => a.id),
                contextInfo: {
                    externalAdReply: {
                        title: "ğ‘¨ğ’…ğ’ğ’Šğ’ ğ‘³ğ’Šğ’”ğ’• ğ‘½ğ’†ğ’“ğ’Šğ’‡ğ’Šğ’†ğ’… ğŸš€",
                        body: `ğ‘µğ’‚ğ’“ğ’–ğ’•ğ’ğ’ƒğ’ğ’• ğŸğŸğŸğŸ”`,
                        thumbnailUrl: thumbUrl,
                        mediaType: 1,
                        renderLargerThumbnail: true,
                        sourceUrl: "https://example.com"
                    }
                }
            }, { quoted: msg }); // <--- QUOTED SIEMPRE PRESENTE

            await sock.sendMessage(from, { react: { text: "ğŸš€", key: msg.key } });

        } catch (e) {
            console.log("Error en admins:", e);
        }
    }
};
